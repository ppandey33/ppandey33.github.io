{% assign rows = include.rows | plus: 0 %}
{% assign cols = include.cols | plus: 0 %}
{% assign size = include.size | default: 4 %}
{% assign radius = include.radius | default: 2 %}
{% assign gap   = include.gap | default: 6 %}
{% assign color = include.color | default: "var(--primary, #00ffcc)" %}

{% assign svg_width  = cols | times: gap %}
{% assign svg_height = rows | times: gap %}

{% assign svg_class  = include.svg_class  | default: "grid" %}

<svg xmlns="http://www.w3.org/2000/svg"
     width="{{ svg_width }}"
     height="{{ svg_height }}"
     viewBox="0 0 {{ svg_width }} {{ svg_height }}"
     fill="none" {% if svg_class != '' %}class="{{ svg_class }}"{% endif %}>

  {% for r in (0..rows) %}
    {% if r > 0 %}
      {% for c in (0..cols) %}
        {% if c > 0 %}
        <circle 
          cx="{{ c | times: gap }}"
          cy="{{ r | times: gap }}"
          r="{{ radius }}"
          fill="{{ color }}"
        />
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endfor %}

</svg>
